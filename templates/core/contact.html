{% extends "base/base.html" %}
{% load static %}
{% block title %} Facing Issues? | Support Form & FAQ {% endblock title %}
{% block css %}
  <style>
    body {
      background: #f7f8fb;
      font-family: 'Inter', Arial, sans-serif;
      min-height: 100vh;
    }
    .primary-color {
      color: #0a0a4d !important;
    }
    .bg-primary-color {
      background-color: #0a0a4d !important;
    }
    .section-title {
      font-size: 2.3rem;
      font-weight: 800;
      color: #0a0a4d;
      text-align: center;
      margin-bottom: 0.3rem;
      letter-spacing: -1px;
    }
    .section-sub {
      text-align: center;
      color: #6d7599;
      font-size: 1.08rem;
      margin-bottom: 2.3rem;
      font-weight: 500;
      letter-spacing: 0.1px;
    }
    .emoji-wave {
      font-size: 2.2rem;
      text-align: center;
      margin-bottom: 0.1rem;
      display: block;
    }
    .main-card {
      gap: 2.2rem;
      min-height: 60vh;
    }
    .form-card, .faq-section {
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 6px 40px 0 rgba(10,10,77,0.07), 0 1.5px 6px 0 rgba(10,10,77,0.02);
    }
    .form-card {
      padding: 2.5rem 2rem 2rem 2rem;
      flex: 1 1 390px;
      max-width: 630px;
    }
    .faq-section {
      padding: 2.1rem 1.5rem 1.5rem 1.5rem;
      flex: 1 1 300px;
      max-width: 370px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .form-label {
      font-weight: 600;
      color: #232378;
      margin-bottom: 0.45rem;
    }
    .form-control, .form-select {
      border-radius: 10px;
      border: 1.5px solid #dbe2ef;
      min-height: 46px;
      font-size: 1rem;
      background: #f8fafd;
      transition: border-color 0.15s, box-shadow 0.15s;
      box-shadow: none !important;
    }
    .form-control:focus, .form-select:focus {
      border-color: #0a0a4d;
      background: #fff;
      box-shadow: 0 0 0 2px rgba(10,10,77,0.09);
    }
    .send-btn {
      background: #0a0a4d;
      color: #fff;
      font-weight: 700;
      border-radius: 10px;
      padding: 12px 0;
      font-size: 1.1rem;
      letter-spacing: 0.05em;
      box-shadow: 0 2px 6px 0 rgba(10,10,77,0.10);
      transition: background 0.17s, box-shadow 0.17s;
      border: none;
    }
    .send-btn:hover, .send-btn:focus {
      background: #16165e;
      color: #fff;
      box-shadow: 0 3px 13px 0 rgba(10,10,77,0.16);
    }
    .faq-title {
      font-weight: 800;
      font-size: 1.15rem;
      color: #0a0a4d;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .accordion-button {
      font-weight: 700;
      color: #0a0a4d;
      background: #f4f7fb;
      border-radius: 13px !important;
      box-shadow: none;
      margin-bottom: 7px;
      transition: background .13s;
    }
    .accordion-button:focus, .accordion-button:not(.collapsed) {
      background: #e9ebf7;
      color: #4f47ff;
    }
    .accordion-body {
      color: #5a5e7b;
      font-size: 0.97rem;
      background: #f8fafd;
      border-radius: 0 0 13px 13px;
    }
    .other-ways {
      font-size: 1rem;
      color: #0a0a4d;
      margin-top: 22px;
      font-weight: 700;
      letter-spacing: 0.02em;
    }
    .contact-info {
      font-size: 0.97rem;
      color: #4c5270;
      margin-bottom: 2.5px;
      display: flex;
      align-items: center;
      gap: 7px;
      margin-top: 4px;
    }
    .char-info {
      font-size: 0.97rem;
      color: #b0b2c3;
      margin-top: 0.3rem;
      margin-bottom: -0.3rem;
    }
    @media (max-width: 991.98px) {
      .main-card {
        flex-direction: column;
        gap: 1.3rem;
      }
      .form-card, .faq-section {
        border-radius: 16px !important;
        box-shadow: 0 3px 13px 0 rgba(10,10,77,0.09);
      }
    }
    @media (max-width: 575.98px) {
      .section-title { font-size: 1.28rem; }
      .section-sub { font-size: 0.93rem; }
      .main-card { gap: 0.8rem; }
      .form-card, .faq-section { border-radius: 0 !important; }
      .form-card, .faq-section { padding: 1.15rem 0.6rem !important; }
      .faq-section { max-width: none; }
    }
  </style>
{% endblock css %}

{% block body %}
  <div class="container py-3 py-md-5">
    <div class="mb-2">
      <span class="emoji-wave">ðŸ‘‹</span>
      <div class="section-title">Facing Issues?</div>
      <div class="section-sub">Weâ€™re here to helpâ€”tell us whatâ€™s bothering you.</div>
    </div>
    <div class="d-flex main-card justify-content-center flex-lg-row flex-column align-items-stretch">
      <!-- Left: Contact Form -->
      <div class="form-card shadow-sm">
        <h5 class="mb-4 fw-bold primary-color">Send us a message</h5>
        <form autocomplete="off">
          <div class="mb-3">
            <label class="form-label" for="fullName">Full Name</label>
            <input type="text" id="fullName" class="form-control" placeholder="Enter your full name" required>
          </div>
          <div class="mb-3">
            <label class="form-label" for="emailAddress">Email Address</label>
            <input type="email" id="emailAddress" class="form-control" placeholder="your.email@student.edu" required>
          </div>
          <div class="mb-3">
            <label class="form-label" for="issueType">Issue Type</label>
            <select class="form-select" id="issueType" required>
              <option selected disabled>Choose an issue type</option>
              <option>Account Issue</option>
              <option>Technical Problem</option>
              <option>Feedback</option>
              <option>Other</option>
            </select>
          </div>
          <div class="mb-2">
            <label class="form-label" for="message">Message</label>
            <textarea id="message" class="form-control" rows="4" maxlength="500" placeholder="Describe your issue clearly..." required></textarea>
            <div class="d-flex justify-content-between char-info">
              <span id="charCount">0 characters</span>
              <span>Max 500 characters</span>
            </div>
          </div>
          <button type="submit" class="btn send-btn w-100 mt-4"><i class="bi bi-send me-2"></i>Send Request</button>
        </form>
      </div>
      <!-- Right: FAQ Section -->
      <div class="faq-section shadow-sm mt-lg-0 mt-3">
        <div class="faq-title">
          <i class="bi bi-question-circle"></i> Frequently Asked Questions
        </div>
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item mb-2">
            <h2 class="accordion-header" id="faq1">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1body">
                How do I connect my GitHub account?
              </button>
            </h2>
            <div id="faq1body" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Go to <b>Settings &gt; Integrations</b> and click "Connect GitHub". Follow the prompts to link your account and sync your projects.
              </div>
            </div>
          </div>
          <div class="accordion-item mb-2">
            <h2 class="accordion-header" id="faq2">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2body">
                Where do I take skill tests?
              </button>
            </h2>
            <div id="faq2body" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Visit the <b>Skill Tests</b> page from your dashboard and select a test to begin. Your progress and certificates will appear in your profile.
              </div>
            </div>
          </div>
          <div class="accordion-item mb-2">
            <h2 class="accordion-header" id="faq3">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3body">
                How do badges and XP work?
              </button>
            </h2>
            <div id="faq3body" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Badges are earned by completing challenges, projects, or tests. Each badge gives you experience points (XP) that help you level up and unlock new features.
              </div>
            </div>
          </div>
          <div class="accordion-item mb-2">
            <h2 class="accordion-header" id="faq4">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4body">
                How do I reset my password?
              </button>
            </h2>
            <div id="faq4body" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Click "Forgot Password" on the login page. Youâ€™ll receive a recovery link at your registered email to set a new password.
              </div>
            </div>
          </div>
        </div>
        <div class="other-ways">Other ways to reach us</div>
        <div class="contact-info">
          <i class="bi bi-envelope-at"></i> support@onlyforstudents.com
        </div>
        <div class="contact-info">
          <i class="bi bi-clock-history"></i> Response within 24 hours
        </div>
      </div>
    </div>
  </div>
  <script>
    // Character count for textarea
    const message = document.getElementById('message');
    const charCount = document.getElementById('charCount');
    if (message && charCount) {
      message.addEventListener('input', function() {
        charCount.textContent = `${this.value.length} characters`;
      });
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}